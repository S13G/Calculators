<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Personal Finance Calculator</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="./css/style.css" />
  <link href="css/normalize.css" rel="stylesheet" type="text/css" />
  <link href="css/webflow.css" rel="stylesheet" type="text/css" />
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2"></script>
  <link href="css/stewardwellcapital.webflow.css" rel="stylesheet" type="text/css" />
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            primary: "#6366f1",
            secondary: "#8b5cf6",
            accent: "#06b6d4",
            dark: "#0f172a",
            "dark-light": "#1e293b",
          },
          animation: {
            "fade-in": "fadeIn 0.5s ease-in-out",
            "slide-up": "slideUp 0.3s ease-out",
            "slide-down": "slideDown 0.3s ease-out",
            glow: "glow 2s ease-in-out infinite alternate",
          },
        },
      },
    };
  </script>
  <style>
    @keyframes fadeIn {
      from {
        opacity: 0;
        transform: translateY(20px);
      }

      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    @keyframes slideUp {
      from {
        transform: translateY(30px);
        opacity: 0;
      }

      to {
        transform: translateY(0);
        opacity: 1;
      }
    }

    @keyframes slideDown {
      from {
        transform: translateY(-10px);
        opacity: 0;
      }

      to {
        transform: translateY(0);
        opacity: 1;
      }
    }

    @keyframes glow {
      from {
        box-shadow: 0 0 20px rgba(99, 102, 241, 0.3);
      }

      to {
        box-shadow: 0 0 30px rgba(99, 102, 241, 0.6);
      }
    }

    @media print {

      /* Ensure colors render in print */
      body {
        -webkit-print-color-adjust: exact;
        print-color-adjust: exact;
      }

      /* Hide everything by default */
      body * {
        visibility: hidden;
      }

      /* Show only the Taxes tab content and make it fill the page */
      #taxes-content,
      #taxes-content * {
        visibility: visible;
      }

      #taxes-content {
        position: absolute;
        left: 0;
        top: 0;
        width: 100%;
        padding: 24px;
      }

      /* Optional: hide the nav tabs and the print button during print */
      #deductions-nav,
      #print-download-btn {
        display: none !important;
      }
    }

    @media print {

      /* Ensure colors render in print */
      body {
        -webkit-print-color-adjust: exact;
        print-color-adjust: exact;
      }

      /* Hide everything by default */
      body * {
        visibility: hidden;
      }

      /* Show only the Taxes tab content and make it fill the page */
      #taxes-content,
      #taxes-content * {
        visibility: visible;
      }

      #taxes-content {
        position: absolute;
        left: 0;
        top: 0;
        width: 100%;
        padding: 24px;
      }

      /* Optional: hide the nav tabs and the print button during print */
      #deductions-nav,
      #print-download-btn {
        display: none !important;
      }
    }

    input {
      -moz-appearance: textfield;
      /* Firefox */
    }

    input::-webkit-outer-spin-button,
    input::-webkit-inner-spin-button {
      -webkit-appearance: none;
      /* Chrome, Safari, Edge */
      margin: 0;
    }

    .nav_cta {
      background-color: #000;
      background-image: linear-gradient(135deg,
          var(--base-color-brand--brand-green),
          #16418a);
      color: var(--text-color--text-alternate);
      text-align: center;
      text-transform: uppercase;
      border-radius: 0.4rem;
      padding: 0.75rem 2rem;
      font-size: 1rem;
      font-weight: 500;
      text-decoration: none;
      transition: background-color 0.5s;
    }

    .glass-effect {
      background: rgba(255, 255, 255, 0.1);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 255, 255, 0.2);
    }

    /* Active button styling */
    button.active {
      box-shadow: 0 0 0 2px rgba(255, 255, 255, 0.5);
      transform: scale(1.05);
    }

    .input-glow:focus {
      box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.1),
        0 0 20px rgba(99, 102, 241, 0.2);
    }

    /* Calculator Dropdown Styles */
    .calculator-dropdown {
      position: relative;
      display: inline-block;
    }

    .menu_links-wrapper {
      display: flex;
      align-items: center;
      gap: 2rem;
      flex-wrap: wrap;
    }

    .nav_menu_link {
      display: inline-block;
    }

    .dropdown-content {
      position: absolute;
      top: 100%;
      left: 0;
      background: white;
      min-width: 300px;
      box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
      border-radius: 12px;
      padding: 8px 0;
      z-index: 1000;
      opacity: 0;
      visibility: hidden;
      transform: translateY(-10px);
      transition: all 0.3s ease;
      border: 1px solid rgba(0, 0, 0, 0.1);
    }

    .dropdown-content.show {
      opacity: 1;
      visibility: visible;
      transform: translateY(0);
      animation: slideDown 0.3s ease-out;
    }

    .dropdown-item {
      display: block;
      padding: 12px 20px;
      color: #374151;
      text-decoration: none;
      transition: all 0.2s ease;
      border-bottom: 1px solid #f3f4f6;
      font-weight: 500;
    }

    .dropdown-item:last-child {
      border-bottom: none;
    }

    .dropdown-item:hover {
      background-color: #f8fafc;
      color: #6366f1;
      transform: translateX(4px);
    }

    .dropdown-item.active {
      background-color: #e0e7ff;
      color: #6366f1;
      font-weight: 600;
    }

    .calculator-dropdown:hover .dropdown-content {
      opacity: 1;
      visibility: visible;
      transform: translateY(0);
    }

    .nav_menu_link {
      position: relative;
      transition: color 0.3s ease;
    }

    .nav_menu_link:hover {
      color: #6366f1;
    }

    .dropdown-arrow {
      display: inline-block;
      margin-left: 6px;
      transition: transform 0.3s ease;
    }

    .calculator-dropdown:hover .dropdown-arrow {
      transform: rotate(180deg);
    }

    /* Background for the "Your Income" container */
    #annual-income-section .glass-effect {
      background-color: #e6f2e6;
      /* Soft Muted Green */
    }

    /* Background for the "Tax Deductions & Income Overview" container */
    #deductions-disposable-section {
      background-color: white;
      /* Light Airy Blue */
    }

    /* Background for the "Monthly Living Expenses" container */
    #living-expenses-section {
      background-color: white;
      /* Gentle Warm Sand */
    }

    /* We also need to adjust the text color for better readability on the new backgrounds */
    #main-calculator-card h1,
    #main-calculator-card h2,
    #main-calculator-card h3,
    #main-calculator-card p,
    #main-calculator-card label,
    #main-calculator-card button,
    #main-calculator-card span,
    #main-calculator-card div,
    #main-calculator-card a {
      color: #0f172a;
      /* A dark color like 'dark' from your tailwind config */
    }

    /* Make sure input fields have dark text too */
    .input-field,
    #dropdownSelected {
      color: #0f172a !important;
    }

    .input-field {
      background-color: #dfece6;
    }

    /* The dropdown list needs a background and dark text */
    #customProvinceOptions {
      background-color: #ffffff;
      color: #0f172a;
    }

    #customProvinceOptions li:hover {
      background-color: #f1f5f3;
    }

    /* Adjusting some specific elements that were styled for a dark background */
    .text-white {
      color: #0f172a;
    }

    .text-white\/80 {
      color: rgba(15, 23, 42, 0.8);
    }

    .text-gray-300 {
      color: #475569;
      /* A medium gray */
    }

    .text-red-400 {
      color: #ef4444;
      /* Keep error/deduction colors */
    }

    .text-green-400 {
      color: #22c55e;
      /* Keep income colors */
    }

    .text-blue-400 {
      color: #3b82f6;
      /* Keep monthly income colors */
    }

    .category-toggle:hover {
      filter: brightness(0.95);
    }

    .tooltip-text {
      color: #0f172a;
      /* dark color */
    }

    /* Mobile responsive for dropdown */
    @media (max-width: 768px) {
      .dropdown-content {
        min-width: 280px;
        left: 0;
        width: 100%;
      }

      .menu_links-wrapper {
        flex-direction: column;
        align-items: center;
        gap: 1rem;
        flex-wrap: wrap;
      }

      .lite-header {
        display: block !important;
      }

      .dropdown-item {
        padding: 10px 15px;
        font-size: 14px;
      }

      .dropdown-item>div>div:last-child {
        font-size: 11px !important;
      }

      #main-calculator-card h2,
      #main-calculator-card h3 {
        letter-spacing: 0.025em;
        /* Adjust as needed */
      }
    }

    @media (max-width: 640px) {
      .input-group.flex {
        gap-x: 10px !important;
        /* Reduce gap for very small screens */
      }
    }

    @media (min-width: 992px) {
      .lite-header {
        display: none !important;
      }
    }
  </style>
</head>

<body class="min-h-screen bg-[#C7DFD2]">
  <div class="nav_fixed">
    <div data-animation="default" data-collapse="medium" data-duration="400" data-easing="ease" data-easing2="ease" role="banner" class="nav_component w-nav">
      <div class="padding-global">
        <div class="nav_container">
          <a href="index.html" aria-current="page" class="nav_brand w-nav-brand w--current"><img src="images/Logo.svg" loading="lazy" alt="Steward Well Capital Logo" class="nav_logo" /></a>
          <nav role="navigation" class="nav_menu w-nav-menu">
            <div class="menu_links-wrapper">
              <div class="lite-header" style="display: none">Menu</div>
              <a href="index.html#about-us" class="nav_menu_link w-nav-link">About us</a>
              <a href="index.html#services" class="nav_menu_link w-nav-link">Services</a>
              <a href="./index.html#testimonials" class="nav_menu_link w-nav-link">Testimonials</a>

              <div class="calculator-dropdown" style="display: inline-block">
                <a href="#" class="nav_menu_link w-nav-link" id="calculatorToggle" style="display: inline-flex; align-items: center">
                  Calculators
                  <span class="dropdown-arrow">
                    <svg width="12" height="8" viewBox="0 0 12 8" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <path d="M1 1.5L6 6.5L11 1.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
                    </svg>
                  </span>
                </a>
                <div class="dropdown-content" id="calculatorDropdown">
                  <a href="budget-calculator.html" class="dropdown-item active">
                    <div>
                      <div style="font-weight: 600; margin-bottom: 2px">
                        Budgeting & Cashflow Calculator
                      </div>

                      <style>
                        .chart-btn-active {
                          transform: scale(1.1);
                          box-shadow: 0 8px 25px rgba(16, 185, 129, 0.4);
                        }

                        .chart-btn-inactive {
                          transform: scale(0.95);
                          opacity: 0.7;
                        }

                        .chart-btn:hover {
                          transform: scale(1.05) !important;
                          opacity: 1 !important;
                        }
                      </style>
                      <div style="font-size: 12px; color: #6b7280">
                        Manage your monthly budget and cash flow
                      </div>
                    </div>
                  </a>
                  <a href="./networth-and-investment.html" class="dropdown-item">
                    <div>
                      <div style="font-weight: 600; margin-bottom: 2px">
                        Networth and investment Calculator
                      </div>
                      <div style="font-size: 12px; color: #6b7280">
                        Track and manage your networth
                      </div>
                    </div>
                  </a>
                  <a href="#" class="dropdown-item">
                    <div>
                      <div style="font-weight: 600; margin-bottom: 2px">
                        Debt & Credit Management Calculator
                      </div>
                      <div style="font-size: 12px; color: #6b7280">
                        Track and manage your debt payments
                      </div>
                    </div>
                  </a>
                  <a href="#" class="dropdown-item">
                    <div>
                      <div style="font-weight: 600; margin-bottom: 2px">
                        Protection & Legacy Planning Calculator
                      </div>
                      <div style="font-size: 12px; color: #6b7280">
                        Plan for insurance and estate needs
                      </div>
                    </div>
                  </a>
                </div>
              </div>

              <a href="index.html#contact-us" class="nav_menu_link w-nav-link">Contact us</a>
              <a href="index.html#contact-us" class="nav_cta hide-desktop">Talk to an expert</a>
            </div>
            <div class="menu_socials hide-desktop">
              <div class="lite-header">Follow us</div>
              <div class="menu_socials_content">
                <a href="https://www.instagram.com/stewardwellcapital?igsh=MW11eG1panppNXF0Mg%3D%3D&amp;utm_source=qr" target="_blank" class="social-link-wrapper w-inline-block"><img src="images/IG_1.svg" loading="lazy" alt="" class="menu_socials_icons" /></a>
                <a href="https://x.com/stewardwellcap?s=11" target="_blank" class="social-link-wrapper w-inline-block"><img src="images/X_1.svg" loading="lazy" alt="" class="menu_socials_icons" /></a>
                <a href="#" class="social-link-wrapper hide w-inline-block"><img src="images/FB_1.svg" loading="lazy" alt="" class="menu_socials_icons" /></a>
                <a href="https://www.linkedin.com/company/stewardwell-capital/" target="_blank" class="social-link-wrapper w-inline-block"><img src="images/LI_1.svg" loading="lazy" alt="" class="menu_socials_icons" /></a>
              </div>
            </div>
          </nav>
          <a href="index.html#contact-us" class="nav_cta hide-tablet">Talk to an expert</a>
          <div data-w-id="396176c6-906a-9f74-c6d0-8a4663dfdeb3" class="nav_button w-nav-button">
            <div class="nav_menu-line _1"></div>
            <div class="nav_menu-line _2"></div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div id="main-calculator-card" class="max-w-[80rem] flex flex-col relative mx-auto px-4 sm:px-6 lg:px-8 py-8">
    <!-- Hero Section -->
    <div class="text-center mt-40 mb-12 animate-fade-in">
      <h2 class="text-4xl md:text-5xl font-bold text-white md:leading-loose">
        Budgeting & Cashflow Calculator
      </h2>
      <div class="opacity-50 -mt-1">
        This tool helps you see your cashflow clearly, set purposeful
        allocations, and view projections—simple budgeting that highlights
        trends, flags overspending, and shows progress toward your goals.
      </div>
    </div>

    <div class="flex gap-4 justify-center">
      <!-- ÷first place i need to fix -->
      <!-- Annual Income Input -->
      <div class="w-[60%]">
        <section id="annual-income-section" class="">
          <div class="rounded-tr-3xl rounded-tl-3xl p-8 bg-white border-white/10 hover:border-primary/30 transition-all duration-300">
            <div class="flex items-center space-x-3 mb-6">
              <img src="images/income.svg" alt="Income Icon" class="w-12 h-12 text-white" />
              <h2 class="text-2xl font-bold text-white">Income</h2>
            </div>

            <div class="relative">
              <div class="input-group grid grid-cols-2 max-sm:grid-cols-1 w-full gap-x-8 gap-y-5">
                <!-- Hidden real select -->
                <select id="provinceSelect" class="hidden">
                  <option value="">Choose your province...</option>
                </select>

                <!-- Custom dropdown UI -->
                <div class="relative w-full">
                  <label for="annualIncome" class="block text-sm font-medium text-gray-300 mb-2">Province</label>
                  <button id="dropdownBtn" type="button" class="w-[100%] pl-8 pr-4 flex justify-between py-4 border bg-[#dfece6] rounded-2xl text-white placeholder-gray-400 focus:outline-none focus:border-[#f1f5f3] transition-all duration-200">
                    <span id="dropdownSelected">Choose Province</span>
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7" />
                    </svg>
                  </button>
                  <p id="provinceError" class="error-message text-red-500 text-sm mt-2"></p>

                  <ul id="customProvinceOptions" class="glass-effect p-2 t w-full text-white rounded-2xl mt-2 z-50 max-h-60 overflow-y-auto" style="
                        max-height: 0;
                        overflow: hidden;
                        opacity: 0;
                        transition: max-height 0.5s ease-in-out,
                          opacity 0.5s ease-in-out;
                      ">
                    <!-- dynamic <li>s will be injected here -->
                  </ul>
                </div>

                <div class="relative w-full">
                  <label for="ageRange" class="block text-sm font-medium text-gray-300 mb-2">Age</label>
                  <button id="ageDropdownBtn" type="button" class="w-[100%] pl-8 pr-4 flex justify-between py-4 border bg-[#dfece6] rounded-2xl text-white placeholder-gray-400 focus:outline-none focus:border-[#f1f5f3] transition-all duration-200">
                    <span id="ageDropdownSelected">Choose Age Range</span>
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7" />
                    </svg>
                  </button>
                  <p id="ageRangeError" class="error-message text-red-500 text-sm mt-2"></p>

                  <ul id="customAgeOptions" class="glass-effect p-2 w-full text-white rounded-2xl mt-2 z-50 overflow-y-auto" style="
                        max-height: 0;
                        overflow: hidden;
                        opacity: 0;
                        transition: max-height 0.5s ease-in-out,
                          opacity 0.5s ease-in-out;
                      ">
                    <li class="cursor-pointer px-4 py-2 hover:bg-slate-100 w-[100%] text-black rounded">
                      Under 35
                    </li>
                    <li class="cursor-pointer px-4 py-2 hover:bg-white-100 text-black rounded">
                      35–44
                    </li>
                    <li class="cursor-pointer px-4 py-2 hover:bg-white/100 text-black rounded">
                      45–54
                    </li>
                    <li class="cursor-pointer px-4 py-2 hover:bg-white/100 text-black rounded">
                      55–64
                    </li>
                    <li class="cursor-pointer px-4 py-2 hover:bg-white/100 text-black rounded">
                      65 and older
                    </li>
                  </ul>
                </div>

                <div class="w-full">
                  <label for="annualIncome" class="block text-sm font-medium text-gray-300 mb-2">Annual Gross Income (Before Tax)</label>
                  <div class="relative">
                    <input type="number" id="annualIncome" class="input-field w-full pl-8 pr-4 py-4 bg-[#dfece6] border rounded-2xl text-white placeholder-gray-400 focus:outline-none focus:border-[#f1f5f3] transition-all duration-200" placeholder="Enter Income Amount" min="0" />
                  </div>
                  <p id="annualIncomeError" class="error-message text-red-500 text-sm mt-2"></p>
                </div>
                <div class="w-full">
                  <label class="block text-sm font-medium text-gray-300 mb-2">Workplace retirement plan?</label>
                  <div class="flex items-center gap-3 text-sm text-gray-200">
                    <input id="includeRetirement" type="radio" name="retirementOption" value="yes" class="sr-only peer" />
                    <label for="includeRetirement" class="text-center rounded-xl w-[50%] p-3 bg-white/60 text-gray-700 cursor-pointer shadow-sm transition peer-checked:bg-[linear-gradient(to_right,#177F5B,#154D80)] peer-checked:text-white">Yes</label>

                    <input id="excludeRetirement" type="radio" name="retirementOption" value="no" class="sr-only peer" checked />
                    <label for="excludeRetirement" class="p-3 text-center rounded-xl w-[50%] bg-white/60 text-gray-700 cursor-pointer shadow-sm transition peer-checked:bg-[linear-gradient(to_right,#177F5B,#154D80)] peer-checked:text-white">No</label>
                  </div>
                </div>
              </div>

              <div class="mt-5">
                <div id="retirement-percentage-section" class="flex flex-col input-group mt-4" style="
                      max-height: 0;
                      overflow: hidden;
                      opacity: 0;
                      transition: max-height 0.5s ease-in-out,
                        opacity 0.5s ease-in-out;
                    ">
                  <label for="retirementPercentage" class="text-white text-sm">Annual Retirement Contribution Percentage (0-10%)</label>
                  <div>
                    <input type="number" min="0" max="10" step="0.1" id="retirementPercentage" class="input-field w-full pl-8 pr-4 py-4 bg-[#dfece6] border border-white/20 rounded-xl mt-2 text-white placeholder-gray-400 focus:outline-none focus:border-primary input-glow transition-all duration-200" placeholder="e.g., 5 (for 5%)" />
                    <p id="retirementPercentageError" class="error-message text-red-500 text-sm mt-2"></p>
                    <p class="text-xs text-gray-500 mt-1">
                      Enter percentage of gross income (maximum 10%)
                    </p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </section>
        <!-- ÷first place i need to fix -->
        <!-- start here -->

        <!-- Deductions and Disposable Income Display -->

        <!-- end here -->

        <!-- Monthly Living Expenses Input -->

        <section id="living-expenses-section" class="glass-effect opacity-50 pointer-events-none p-6 md:p-8 transition-colors duration-500 ease-in-out">
          <div class="flex items-center justify-between mb-6">
            <div class="flex items-center space-x-3">
              <img src="images/expenditure.svg" alt="Income Icon" class="w-12 h-12 text-white" />
              <div class="relative flex items-center">
                <div class="flex flex-col">
                  <div class="flex items-center">
                    <h2 class="text-2xl font-bold text-white">
                      Monthly Expenditure
                    </h2>
                  </div>
                  <!-- <span class="text-[.8rem] opacity-50">
                All monthly spending—bills, everyday costs, transportation,
                and debt payments.
              </span> -->
                </div>
              </div>
            </div>
            <!-- <button id="toggle-all-expenses" class="text-sm font-medium text-white/80 hover:text-white transition-colors duration-200 focus:outline-none">
          Expand All
        </button> -->
          </div>

          <div class="space-y-4">
            <div class="expense-category glass-effect rounded-2xl border border-white/10">
              <button class="category-toggle w-full flex items-center justify-between p-4 text-white border border-transparent transition-all duration-300 rounded-2xl" onclick="toggleCategory('housing')">
                <div class="flex items-center gap-3">
                  <!-- <div class="w-8 h-8 bg-gradient-to-r from-blue-400 to-blue-600 rounded-lg flex items-center justify-center">
                <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"></path>
                </svg>
              </div> -->
                  <span class="font-medium">Housing and Utilities</span>
                </div>
                <svg class="w-5 h-5 category-arrow transition-transform duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                </svg>
              </button>

              <div class="category-content overflow-hidden transition-all duration-500 ease-in-out max-h-0">
                <div class="p-4 pt-4">
                  <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div class="input-group">
                      <label class="block text-sm font-medium text-gray-300 mb-2">Rent/Mortgage
                        <input type="number" id="rent-mortgage" class="input-field w-full pl-4 pr-4 py-3 border border-transparent hover:border-[#57f2a9] bg-[#dfece6] rounded-xl text-white placeholder-gray-400 focus:outline-none focus:border-primary input-glow transition-all duration-200" placeholder="Enter amount" min="0" />
                    </div>
                    <div class="input-group">
                      <label class="block text-sm font-medium text-gray-300 mb-2">Electricity</label>
                      <input type="number" id="electricity" class="input-field w-full pl-4 pr-4 py-3 border border-transparent hover:border-[#57f2a9] bg-[#dfece6] rounded-xl text-white placeholder-gray-400 focus:outline-none focus:border-primary input-glow transition-all duration-200" placeholder="Enter amount" min="0" />
                    </div>
                    <div class="input-group">
                      <label class="block text-sm font-medium text-gray-300 mb-2">Water </label>
                      <input type="number" id="water" class="input-field w-full pl-4 pr-4 py-3 border border-transparent hover:border-[#57f2a9] bg-[#dfece6] rounded-xl text-white placeholder-gray-400 focus:outline-none focus:border-primary input-glow transition-all duration-200" placeholder="Enter amount" min="0" />
                    </div>
                    <div class="input-group">
                      <label class="block text-sm font-medium text-gray-300 mb-2">Gas/Heating</label>
                      <input type="number" id="gas-heating" class="input-field w-full pl-4 pr-4 py-3 border border-transparent hover:border-[#57f2a9] bg-[#dfece6] rounded-xl text-white placeholder-gray-400 focus:outline-none focus:border-primary input-glow transition-all duration-200" placeholder="Enter amount" min="0" />
                    </div>
                    <div class="input-group">
                      <label class="block text-sm font-medium text-gray-300 mb-2">Home Insurance

                        <input type="number" id="home-insurance" class="input-field w-full pl-4 pr-4 py-3 border border-transparent hover:border-[#57f2a9] bg-[#dfece6] rounded-xl text-white placeholder-gray-400 focus:outline-none focus:border-primary input-glow transition-all duration-200" placeholder="Enter amount" min="0" />
                    </div>
                    <div class="input-group">
                      <label class="block text-sm font-medium text-gray-300 mb-2">Others</label>
                      <input type="number" id="housing-others" class="input-field w-full pl-4 pr-4 py-3 border border-transparent hover:border-[#57f2a9] bg-[#dfece6] rounded-xl text-white placeholder-gray-400 focus:outline-none focus:border-primary input-glow transition-all duration-200" placeholder="Enter amount" min="0" />
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <div class="expense-category glass-effect rounded-2xl border border-white/10">
              <button class="category-toggle w-full flex items-center justify-between p-4 text-white border transition-all duration-300 rounded-2xl" onclick="toggleCategory('living')">
                <div class="flex items-center gap-3">
                  <!-- <div class="w-8 h-8 bg-gradient-to-r from-purple-400 to-purple-600 rounded-lg flex items-center justify-center">
                <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"></path>
                </svg>
              </div> -->
                  <span class="font-medium">Everyday Spending</span>

                </div>
                <svg class="w-5 h-5 category-arrow transition-transform duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                </svg>
              </button>

              <div class="category-content overflow-hidden transition-all duration-500 ease-in-out max-h-0">
                <div class="p-4 pt-4">
                  <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                    <div class="input-group">
                      <label class="block text-sm font-medium text-gray-300 mb-2">Groceries</label>
                      <input type="number" id="groceries" class="input-field w-full pl-4 pr-4 py-3 border border-transparent hover:border-[#57f2a9] bg-[#dfece6] rounded-xl text-white placeholder-gray-400 focus:outline-none focus:border-primary input-glow transition-all duration-200" placeholder="Enter amount" min="0" />
                    </div>
                    <div class="input-group">
                      <label class="block text-sm font-medium text-gray-300 mb-2">Subscriptions
                      </label>
                      <input type="number" id="subscriptions" class="input-field w-full pl-4 pr-4 py-3 border border-transparent hover:border-[#57f2a9] bg-[#dfece6] rounded-xl text-white placeholder-gray-400 focus:outline-none focus:border-primary input-glow transition-all duration-200" placeholder="Enter amount" min="0" />
                    </div>
                    <div class="input-group">
                      <label class="block text-sm font-medium text-gray-300 mb-2">Phone Bills</label>
                      <input type="number" id="phone-bills" class="input-field w-full pl-4 pr-4 py-3 border border-transparent hover:border-[#57f2a9] bg-[#dfece6] rounded-xl text-white placeholder-gray-400 focus:outline-none focus:border-primary input-glow transition-all duration-200" placeholder="Enter amount" min="0" />
                    </div>
                    <div class="input-group">
                      <label class="block text-sm font-medium text-gray-300 mb-2">Internet</label>
                      <input type="number" id="internet" class="input-field w-full pl-4 pr-4 py-3 border border-transparent hover:border-[#57f2a9] bg-[#dfece6] rounded-xl text-white placeholder-gray-400 focus:outline-none focus:border-primary input-glow transition-all duration-200" placeholder="Enter amount" min="0" />
                    </div>
                    <div class="input-group">
                      <label class="block text-sm font-medium text-gray-300 mb-2">Clothing</label>
                      <input type="number" id="clothing" class="input-field w-full pl-4 pr-4 py-3 border border-transparent hover:border-[#57f2a9] bg-[#dfece6] rounded-xl text-white placeholder-gray-400 focus:outline-none focus:border-primary input-glow transition-all duration-200" placeholder="Enter amount" min="0" />
                    </div>
                    <div class="input-group">
                      <label class="block text-sm font-medium text-gray-300 mb-2">Others</label>
                      <input type="number" id="living-others" class="input-field w-full pl-4 pr-4 py-3 border border-transparent hover:border-[#57f2a9] bg-[#dfece6] rounded-xl text-white placeholder-gray-400 focus:outline-none focus:border-primary input-glow transition-all duration-200" placeholder="Enter amount" min="0" />
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <div class="expense-category glass-effect rounded-2xl border border-white/10">
              <button class="category-toggle w-full flex items-center justify-between p-4 text-white transition-all duration-300 rounded-2xl" onclick="toggleCategory('transportation')">
                <div class="flex items-center gap-3">
                  <!-- <div class="w-8 h-8 bg-gradient-to-r from-green-400 to-green-600 rounded-lg flex items-center justify-center">
                <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8"></path>
                </svg>
              </div> -->
                  <span class="font-medium">Transportation</span>

                </div>
                <svg class="w-5 h-5 category-arrow transition-transform duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                </svg>
              </button>

              <div class="category-content overflow-hidden transition-all duration-500 ease-in-out max-h-0">
                <div class="p-4 pt-4">
                  <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                    <div class="input-group">
                      <label class="block text-sm font-medium text-gray-300 mb-2">Car Payment</label>
                      <input type="number" id="car-payment" class="input-field w-full pl-4 pr-4 py-3 border border-transparent hover:border-[#57f2a9] bg-[#dfece6] rounded-xl text-white placeholder-gray-400 focus:outline-none focus:border-primary input-glow transition-all duration-200" placeholder="Enter amount" min="0" />
                    </div>
                    <div class="input-group">
                      <label class="block text-sm font-medium text-gray-300 mb-2">Gas/Fuel</label>
                      <input type="number" id="gas-fuel" class="input-field w-full pl-4 pr-4 py-3 border border-transparent hover:border-[#57f2a9] bg-[#dfece6] rounded-xl text-white placeholder-gray-400 focus:outline-none focus:border-primary input-glow transition-all duration-200" placeholder="Enter amount" min="0" />
                    </div>
                    <div class="input-group">
                      <label class="block text-sm font-medium text-gray-300 mb-2">Car Insurance
                      </label>
                      <input type="number" id="car-insurance" class="input-field w-full pl-4 pr-4 py-3 border border-transparent hover:border-[#57f2a9] bg-[#dfece6] rounded-xl text-white placeholder-gray-400 focus:outline-none focus:border-primary input-glow transition-all duration-200" placeholder="Enter amount" min="0" />
                    </div>
                    <div class="input-group">
                      <label class="block text-sm font-medium text-gray-300 mb-2">Public Transit
                      </label>
                      <input type="number" id="public-transit" class="input-field w-full pl-4 pr-4 py-3 border border-transparent hover:border-[#57f2a9] bg-[#dfece6] rounded-xl text-white placeholder-gray-400 focus:outline-none focus:border-primary input-glow transition-all duration-200" placeholder="Enter amount" min="0" />
                    </div>
                    <div class="input-group">
                      <label class="block text-sm font-medium text-gray-300 mb-2">Car Maintenance
                      </label>
                      <input type="number" id="car-maintenance" class="input-field w-full pl-4 pr-4 py-3 border border-transparent hover:border-[#57f2a9] bg-[#dfece6] rounded-xl text-white placeholder-gray-400 focus:outline-none focus:border-primary input-glow transition-all duration-200" placeholder="Enter amount" min="0" />
                    </div>
                    <div class="input-group">
                      <label class="block text-sm font-medium text-gray-300 mb-2">Others</label>
                      <input type="number" id="transport-others" class="input-field w-full pl-4 pr-4 py-3 border border-transparent hover:border-[#57f2a9] bg-[#dfece6] rounded-xl text-white placeholder-gray-400 focus:outline-none focus:border-primary input-glow transition-all duration-200" placeholder="Enter amount" min="0" />
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <div class="expense-category glass-effect rounded-2xl border border-white/10">
              <button class="category-toggle w-full flex items-center justify-between p-4 text-white transition-all duration-300 rounded-2xl" onclick="toggleCategory('loans')">
                <div class="flex items-center gap-3">
                  <!-- <div class="w-8 h-8 bg-gradient-to-r from-red-400 to-red-600 rounded-lg flex items-center justify-center">
                <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"></path>
                </svg>
              </div> -->
                  <span class="font-medium">Loans and Insurance</span>

                </div>
                <svg class="w-5 h-5 category-arrow transition-transform duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                </svg>
              </button>

              <div class="category-content overflow-hidden transition-all duration-500 ease-in-out max-h-0">
                <div class="p-4">
                  <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                    <div class="input-group">
                      <label class="block text-sm font-medium text-gray-300 mb-2">Student Loan

                        <input type="number" id="student-loans" class="input-field w-full pl-4 pr-4 py-3 border border-transparent hover:border-[#57f2a9] bg-[#dfece6] rounded-xl text-white placeholder-gray-400 focus:outline-none focus:border-primary input-glow transition-all duration-200" placeholder="Enter amount" min="0" />
                    </div>
                    <div class="input-group">
                      <label class="block text-sm font-medium text-gray-300 mb-2">Credit Card</label>
                      <input type="number" id="credit-cards" class="input-field w-full pl-4 pr-4 py-3 border border-transparent hover:border-[#57f2a9] bg-[#dfece6] rounded-xl text-white placeholder-gray-400 focus:outline-none focus:border-primary input-glow transition-all duration-200" placeholder="Enter amount" min="0" />
                    </div>
                    <div class="input-group">
                      <label class="block text-sm font-medium text-gray-300 mb-2">Personal Loan
                      </label>
                      <input type="number" id="personal-loans" class="input-field w-full pl-4 pr-4 py-3 border border-transparent hover:border-[#57f2a9] bg-[#dfece6] rounded-xl text-white placeholder-gray-400 focus:outline-none focus:border-primary input-glow transition-all duration-200" placeholder="Enter amount" min="0" />
                    </div>
                    <div class="input-group">
                      <label class="block text-sm font-medium text-gray-300 mb-2">Life Insurance
                      </label>
                      <input type="number" id="life-insurance" class="input-field w-full pl-4 pr-4 py-3 border border-transparent hover:border-[#57f2a9] bg-[#dfece6] rounded-xl text-white placeholder-gray-400 focus:outline-none focus:border-primary input-glow transition-all duration-200" placeholder="Enter amount" min="0" />
                    </div>
                    <div class="input-group">
                      <label class="block text-sm font-medium text-gray-300 mb-2">Line of Credit
                      </label>
                      <input type="number" id="line-of-credit" class="input-field w-full pl-4 pr-4 py-3 border border-transparent hover:border-[#57f2a9] bg-[#dfece6] rounded-xl text-white placeholder-gray-400 focus:outline-none focus:border-primary input-glow transition-all duration-200" placeholder="Enter amount" min="0" />
                    </div>
                    <div class="input-group">
                      <label class="block text-sm font-medium text-gray-300 mb-2">Others</label>
                      <input type="number" id="loan-others" class="input-field w-full pl-4 pr-4 py-3 border border-transparent hover:border-[#57f2a9] bg-[#dfece6] rounded-xl text-white placeholder-gray-400 focus:outline-none focus:border-primary input-glow transition-all duration-200" placeholder="Enter amount" min="0" />
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <div class="expense-category glass-effect rounded-2xl border border-white/10">
              <!-- border border-transparent bg-gradient-to-r from-green-200 to-emerald-200 -->
              <button class="category-toggle w-full flex items-center justify-between p-4 text-white transition-all duration-300 rounded-2xl" onclick="toggleCategory('children')">
                <div class="flex items-center gap-3">
                  <!-- <div class="w-8 h-8 bg-gradient-to-r from-pink-400 to-pink-600 rounded-lg flex items-center justify-center">
                <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253z"></path>
                </svg>
              </div> -->
                  <span class="font-medium">Children and Education</span>

                </div>
                <svg class="w-5 h-5 category-arrow transition-transform duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                </svg>
              </button>

              <div class="category-content overflow-hidden transition-all duration-500 ease-in-out max-h-0">
                <div class="p-4">
                  <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                    <div class="input-group">
                      <label class="block text-sm font-medium text-gray-300 mb-2">Tuition</label>
                      <input type="number" id="school-tuition" class="input-field w-full pl-4 pr-4 py-3 border border-transparent hover:border-[#57f2a9] bg-[#dfece6] rounded-xl text-white placeholder-gray-400 focus:outline-none focus:border-primary input-glow transition-all duration-200" placeholder="Enter amount" min="0" />
                    </div>
                    <div class="input-group">
                      <label class="block text-sm font-medium text-gray-300 mb-2">Childcare</label>
                      <input type="number" id="childcare" class="input-field w-full pl-4 pr-4 py-3 border border-transparent hover:border-[#57f2a9] bg-[#dfece6] rounded-xl text-white placeholder-gray-400 focus:outline-none focus:border-primary input-glow transition-all duration-200" placeholder="Enter amount" min="0" />
                    </div>
                    <div class="input-group">
                      <label class="block text-sm font-medium text-gray-300 mb-2">School Supplies
                      </label>
                      <input type="number" id="school-supplies" class="input-field w-full pl-4 pr-4 py-3 border border-transparent hover:border-[#57f2a9] bg-[#dfece6] rounded-xl text-white placeholder-gray-400 focus:outline-none focus:border-primary input-glow transition-all duration-200" placeholder="Enter amount" min="0" />
                    </div>
                    <div class="input-group">
                      <label class="block text-sm font-medium text-gray-300 mb-2">Kids Activities
                      </label>
                      <input type="number" id="kids-activities" class="input-field w-full pl-4 pr-4 py-3 border border-transparent hover:border-[#57f2a9] bg-[#dfece6] rounded-xl text-white placeholder-gray-400 focus:outline-none focus:border-primary input-glow transition-all duration-200" placeholder="Enter amount" min="0" />
                    </div>
                    <div class="input-group">
                      <label class="block text-sm font-medium text-gray-300 mb-2">Education Savings
                      </label>
                      <input type="number" id="education-savings" class="input-field w-full pl-4 pr-4 py-3 border border-transparent hover:border-[#57f2a9] bg-[#dfece6] rounded-xl text-white placeholder-gray-400 focus:outline-none focus:border-primary input-glow transition-all duration-200" placeholder="Enter amount" min="0" />
                    </div>
                    <div class="input-group">
                      <label class="block text-sm font-medium text-gray-300 mb-2">Others </label>
                      <input type="number" id="children-others" class="input-field w-full pl-4 pr-4 py-3 border border-transparent hover:border-[#57f2a9] bg-[#dfece6] rounded-xl text-white placeholder-gray-400 focus:outline-none focus:border-primary input-glow transition-all duration-200" placeholder="Enter amount" min="0" />
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <div class="expense-category glass-effect rounded-2xl border border-white/10">
              <button class="category-toggle w-full flex items-center justify-between p-4 text-white transition-all duration-300 rounded-2xl" onclick="toggleCategory('miscellaneous')">
                <div class="flex items-center gap-3">
                  <!-- <div class="w-8 h-8 bg-gradient-to-r from-yellow-400 to-yellow-600 rounded-lg flex items-center justify-center">
                <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                </svg>
              </div> -->
                  <span class="font-medium">Miscellaneous Expenses</span>

                </div>
                <svg class="w-5 h-5 category-arrow transition-transform duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                </svg>
              </button>

              <div class="category-content overflow-hidden transition-all duration-500 ease-in-out max-h-0">
                <div class="p-4">
                  <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                    <div class="input-group">
                      <label class="block text-sm font-medium text-gray-300 mb-2">Health/Fitness
                      </label>
                      <input type="number" id="healthcare" class="input-field w-full pl-4 pr-4 py-3 border border-transparent hover:border-[#57f2a9] bg-[#dfece6] rounded-xl text-white placeholder-gray-400 focus:outline-none focus:border-primary input-glow transition-all duration-200" placeholder="Enter amount" min="0" />
                    </div>
                    <div class="input-group">
                      <label class="block text-sm font-medium text-gray-300 mb-2">Entertainment
                      </label>
                      <input type="number" id="entertainment" class="input-field w-full pl-4 pr-4 py-3 border border-transparent hover:border-[#57f2a9] bg-[#dfece6] rounded-xl text-white placeholder-gray-400 focus:outline-none focus:border-primary input-glow transition-all duration-200" placeholder="Enter amount" min="0" />
                    </div>
                    <div class="input-group">
                      <label class="block text-sm font-medium text-gray-300 mb-2">Dining Out </label>
                      <input type="number" id="dining-out" class="input-field w-full pl-4 pr-4 py-3 border border-transparent hover:border-[#57f2a9] bg-[#dfece6] rounded-xl text-white placeholder-gray-400 focus:outline-none focus:border-primary input-glow transition-all duration-200" placeholder="Enter amount" min="0" />
                    </div>

                    <div class="input-group">
                      <label class="block text-sm font-medium text-gray-300 mb-2">Pets </label>
                      <input type="number" id="pets" class="input-field w-full pl-4 pr-4 py-3 border border-transparent hover:border-[#57f2a9] bg-[#dfece6] rounded-xl text-white placeholder-gray-400 focus:outline-none focus:border-primary input-glow transition-all duration-200" placeholder="Enter amount" min="0" />
                    </div>
                    <div class="input-group">
                      <label class="block text-sm font-medium text-gray-300 mb-2">Gifts & Donations
                      </label>
                      <input type="number" id="gifts-donations" class="input-field w-full pl-4 pr-4 py-3 border border-transparent hover:border-[#57f2a9] bg-[#dfece6] rounded-xl text-white placeholder-gray-400 focus:outline-none focus:border-primary input-glow transition-all duration-200" placeholder="Enter amount" min="0" />
                    </div>
                    <div class="input-group">
                      <label class="block text-sm font-medium text-gray-300 mb-2">Others </label>
                      <input type="number" id="misc-others" class="input-field w-full pl-4 pr-4 py-3 border border-transparent hover:border-[#57f2a9] bg-[#dfece6] rounded-xl text-white placeholder-gray-400 focus:outline-none focus:border-primary input-glow transition-all duration-200" placeholder="Enter amount" min="0" />
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div id="integrated-expense-summary" class="mt-2 glass-effect rounded-xl text-white hidden animate-slide-up">
            <div class="mx-auto px-6 py-2 rounded-2xl text-white placeholder-gray-400 focus:outline-none focus:border-primary input-glow transition-all duration-200 flex flex-col justify-center space-y-2">
              <p id="currentZoneMessage" class="-mb-2 status-message text-white text-base italic text-center"></p>
              <div class="budget-progress-container -mt-14 -mb-2">
                <div class="progress-bar-wrapper flex flex-col gap-2">
                  <div class="progress-bar-labels hidden">
                    <span class="progress-label left">0%</span>
                    <span class="progress-label center">70%</span>
                    <span class="progress-label right">85%</span>
                    <span class="progress-label far-right">100%</span>
                  </div>
                  <div class="budget-progress-bar hidden">
                    <div class="budget-zone green-zone" data-tooltip="Your lifestyle spending sits well below your take-home pay, a healthy gap that keeps cashflow positive. You can save and invest consistently while staying flexible for surprises. Keep habits steady and watch for lifestyle creep—avoid amber (cutting it close) and red (overspending).">
                      <div class="zone-gradient"></div>
                    </div>
                    <div class="budget-zone amber-zone" data-tooltip="Your lifestyle spending is close to your take-home, leaving little room to save and making investing difficult. Tighten a few lifestyle choices—Spend less on wants and cut back on extras—to move into green. If lifestyle costs rise, you could slip into red.">
                      <div class="zone-gradient"></div>
                    </div>
                    <div class="budget-zone red-zone" data-tooltip="Your lifestyle spending is over 85% of your take-home, leaving little to no cashflow or savings—investing isn't feasible right now thus increasing the risk of relying on debt. Cut non-essentials, lower big bills, and reset lifestyle priorities to move to amber, then green.">
                      <div class="zone-gradient"></div>
                    </div>
                    <div class="progress-indicator" id="progressIndicator">
                      <div class="indicator-dot"></div>
                      <div class="indicator-line"></div>
                      <div class="indicator-value" id="indicatorValue">
                        0%
                      </div>
                    </div>
                  </div>
                  <div class="tooltip-boxes hidden">
                    <div class="tooltip-box healthy-box" data-tooltip="Your lifestyle spending sits well below your take-home pay, a healthy gap that keeps cashflow positive. You can save and invest consistently while staying flexible for surprises. Keep habits steady and watch for lifestyle creep—avoid amber (cutting it close) and red (overspending).">
                      <div class="box-label">Healthy</div>
                    </div>
                    <div class="tooltip-box caution-box" data-tooltip="Your lifestyle spending is close to your take-home, leaving little room to save and making investing difficult. Tighten a few lifestyle choices—Spend less on wants and cut back on extras—to move into green. If lifestyle costs rise, you could slip into red.">
                      <div class="box-label">Caution</div>
                    </div>
                    <div class="tooltip-box critical-box" data-tooltip="Your lifestyle spending is over 85% of your take-home, leaving little to no cashflow or savings—investing isn't feasible right now thus increasing the risk of relying on debt. Cut non-essentials, lower big bills, and reset lifestyle priorities to move to amber, then green.">
                      <div class="box-label">Critical</div>
                    </div>
                  </div>
                </div>
              </div>

              <div class="mt-1 hidden">
                <p class="text-lg text-center font-medium mb-1">
                  <strong>Total Monthly Expenses</strong>
                </p>
                <p class="text-3xl font-bold text-center mb-2">
                  <span id="currentTotalExpenses" class="text-3xl font-bold">$0.00</span>
                  (<span class="text-3xl font-bold" id="currentExpensesPercentage">0.0%</span>)
                </p>
              </div>
            </div>

            <div class="w-full mt-4 px-6 py-4 bg-white/5 hidden border border-white/20 rounded-2xl text-white placeholder-gray-400 focus:outline-none focus:border-primary input-glow transition-all duration-200 flex flex-col">
              <p class="text-lg font-medium mb-2">
                <strong>Budget Zone:</strong>
              </p>
              <span id="currentBudgetZone" class="status-badge text-3xl font-bold text-center">N/A</span>
            </div>
          </div>
        </section>

        <!-- Savings & Investments Input - Updated Layout -->
        <section id="savings-investments-section" class=" opacity-50 pointer-events-none glass-effect p-8 text-white border border-white/10 hover:border-primary/30 transition-all duration-300 backdrop-blur-sm shadow-lg bg-white">
          <h2 class="text-2xl md:text-3xl font-bold text-white mb-6 pb-4 border-gray-300 flex items-center gap-2">
            <img src="images/savings.svg" alt="Savings Icon" class="w-12 h-12 text-white" />
            <span class="text-white"></span> Savings & Investments Goals
            <div id="infoButton" class="focus:outline-none pointer-events-auto" onclick="document.getElementById('infoPopup').classList.remove('hidden')">
              <svg class="w-5 h-5 text-blue-400 hover:text-blue-300 cursor-pointer transition-colors duration-200" fill="currentColor" viewBox="0 0 20 20">
                <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-3a1 1 0 00-.867.5 1 1 0 11-1.731-1A3 3 0 0113 8a3.001 3.001 0 01-2 2.83V11a1 1 0 11-2 0v-1a1 1 0 011 1 0 100-2zm0 8a1 1 0 100-2 1 1 0 000 2z" clip-rule="evenodd" />
              </svg>
            </div>
          </h2>

          <!-- Popup Overlay -->
          <div id="infoPopup" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
            <div class="bg-white rounded-2xl p-8 max-w-md mx-4 shadow-2xl transform transition-all duration-300 scale-95">
              <div class="text-center">
                <div class="mb-4">
                  <div class="w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4">
                    <svg class="w-8 h-8 text-blue-600" fill="currentColor" viewBox="0 0 20 20">
                      <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd" />
                    </svg>
                  </div>
                  <h3 class="text-xl font-bold text-gray-900 mb-2">
                    Allocation Plan & Projections
                  </h3>
                  <p class="text-gray-700 leading-relaxed mb-6">
                    Our budget calculator recommends allocating your surplus
                    as follows:
                    <strong>10% to a cashflow buffer, 5–15% to savings, and 10–20%
                      to investing</strong>
                    and —a simple path to sustainable growth and long-term
                    financial wellness.
                  </p>
                  <div class="bg-blue-50 p-4 rounded-lg mb-6">
                    <p class="text-sm text-blue-800">
                      <strong>Pro Tip: Allocation Strategy Varies by Zone</strong>
                      <br /><br />
                      <strong>Green (below 70% of take-home)</strong> —
                      Expenses are low enough that the surplus typically funds
                      all three steps. <br /><br />
                      <strong>Amber (70–85%)</strong> — Surplus first covers
                      the cashflow buffer, then savings; then investing only
                      if surplus remains. <br /><br />
                      <strong>Red (above 85%)</strong> — Limited or No
                      Surplus. Allocations begin once a surplus exists,
                      flowing to the cashflow buffer first, and then savings.
                      No investing capacity.
                    </p>
                  </div>
                </div>
                <button id="closePopup" class="w-full bg-blue-600 hover:bg-blue-700 !text-white font-medium py-3 px-6 rounded-xl transition-colors duration-200">
                  Got it, thanks!
                </button>
              </div>
            </div>
          </div>
          <p id="si-guidance" class="text-white/90 text-base mb-8 leading-relaxed">
            You can choose to either set your custom savings and investments goals, or use our recommendations.
          </p>

          <!-- Two Column Layout -->
          <div class="gap-8">
            <!-- Left Column: Recommended Allocations -->
            <div class="space-y-6 hidden">
              <!-- <div class="flex items-center gap-2 mb-6">
            <span>📊</span>
            <h3 class="text-xl font-semibold text-white">
              Recommended Allocation
            </h3>
            <div class="relative ml-2 inline-block cursor-pointer group">
              <svg class="w-4 h-4 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
              </svg>
              <div class="absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 w-max max-w-xs p-2 bg-green-100 text-green-900 text-sm hidden font-normal rounded-md group-hover:block transition-opacity duration-300 z-50">
                Your surplus (what’s left after expenses) is used in this order: <strong>10% to a cashflow buffer, 5–15% to savings, 10–20% to investing.</strong> Funds fill each step in order— small surplus may stop at the buffer; larger surplus continues through savings to investing. No surplus means no allocation.
              </div>
            </div>
          </div> -->
              <!-- Recommended Savings -->
              <div class="space-y-3">
                <div class="flex justify-between">
                  <label class="block text-sm font-medium text-white/80">
                    Monthly Savings percentage(%)
                  </label>
                  <label class="block text-sm mr-32 font-medium text-white/80">
                    Monthly Savings amount($)
                  </label>
                </div>
                <div class="grid grid-cols-2 gap-3">
                  <div class="input-group">
                    <!-- <label class="text-xs text-white/60 mt-1">Percentage</label> -->
                    <div class="input-field w-full pl-4 pr-4 py-3 border border-transparent hover:border-[#57f2a9] bg-[#dfece6] rounded-xl text-white placeholder-gray-400 focus:outline-none focus:border-primary input-glow transition-all duration-200">
                      <span id="recommended-savings-percentage" class="text-white">0%</span>
                    </div>
                  </div>

                  <div class="input-group">
                    <!-- <label class="text-xs text-white/60 mt-1">Amount ($)</label> -->
                    <div class="input-field w-full pl-4 pr-4 py-3 border border-transparent hover:border-[#57f2a9] bg-[#dfece6] rounded-xl text-white placeholder-gray-400 focus:outline-none focus:border-primary input-glow transition-all duration-200">
                      <span id="recommended-savings-amount" class="text-white">$0.00</span>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Recommended Investments -->
              <div class="space-y-3">
                <div class="flex justify-between">
                  <label class="block text-sm font-medium text-white/80">
                    Monthly Savings percentage(%)
                  </label>
                  <label class="block text-sm mr-32 font-medium text-white/80">
                    Monthly Savings Amount($)
                  </label>
                </div>
                <div class="grid grid-cols-2 gap-3">
                  <div class="input-group">
                    <div class="input-field w-full pl-4 pr-4 py-3 border border-transparent hover:border-[#57f2a9] bg-[#dfece6] rounded-xl text-white placeholder-gray-400 focus:outline-none focus:border-primary input-glow transition-all duration-200">
                      <span id="recommended-investments-percentage" class="text-white">0%</span>
                    </div>
                  </div>
                  <div class="input-group">
                    <div class="input-field w-full pl-4 pr-4 py-3 border border-transparent hover:border-[#57f2a9] bg-[#dfece6] rounded-xl text-white placeholder-gray-400 focus:outline-none focus:border-primary input-glow transition-all duration-200">
                      <span id="recommended-investments-amount" class="text-white">$0.00</span>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Recommended Cashflow -->
              <div class="space-y-3">
                <label class="block text-sm font-medium text-white/80">
                  Your calculated Monthly Cashflow
                </label>
                <div class="input-field w-full pl-4 pr-4 py-3 border border-transparent hover:border-[#57f2a9] bg-[#dfece6] rounded-xl text-white placeholder-gray-400 focus:outline-none focus:border-primary input-glow transition-all duration-200">
                  <span id="recommended-cashflow-amount" class="text-white">$0.00</span>
                  <span id="recommended-cashflow-percentage" class="text-red">(0.0%)</span>
                </div>
              </div>
            </div>

            <!-- THIS IS GOING TO THE RIGT-->

            <!-- Right Column: Recommended Allocations Projection Section -->
            <!-- <div class="space-y-6">
          <div class="flex items-center gap-4 mb-">
            <h3 class="text-xl font-semibold text-white ">
              Recommended Projection
            </h3>
            <div class="relative group  ml-2 inline-block cursor-pointer">
              <svg class="w-4 h-4 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
              </svg>
              <div class="absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 w-max max-w-xs p-2 bg-green-100 text-green-900 text-sm font-normal rounded-md hidden group-hover:block transition-opacity duration-300 z-50">
                This provides a 5-year projection using 3%, 10%, and 6.5% for Savings, Investing, and Both. The chart shows how much comes from what you put in versus what it earns. Keep it consistent and watch your wealth compound over time.

              </div>
            </div>

          </div>
       
          <div class="flex justify-between gap-4 mb-6 ">
            <button id="savingsChartBtn" class="chart-btn chart-btn-active flex-1 px-4 py-3 rounded-lg font-medium !text-white transition-all duration-300 shadow-lg transform scale-110 bg-gradient-to-r from-emerald-600 to-emerald-700">
              Savings
            </button>
            <button id="investmentsChartBtn" class="chart-btn chart-btn-inactive flex-1 px-4 py-3 rounded-lg font-medium !text-white transition-all duration-300 shadow-md bg-gradient-to-r from-emerald-400/60 to-emerald-500/60">
              Investments
            </button>
            <button id="bothChartBtn" class="chart-btn chart-btn-inactive flex-1 px-4 py-3 rounded-lg font-medium !text-white transition-all duration-300 shadow-md bg-gradient-to-r from-emerald-400/60 to-emerald-500/60">
              Both
            </button>
          </div>

          <div class="flex gap-6 items-start">
            <!-- Chart on the left -->
            <div class="flex-shrink-0 hidden mt-4">
              <canvas id="myPieChart2" class="!w-[150px] !h-[150px]" width="160" height="160"></canvas>
            </div>
            <div class="flex-1 hidden">
              <div id="projectionSummary" class="p-4 bg-white/5 rounded-lg border border-white/10 h-full"></div>
            </div>
          </div>

          <!-- Toggle Button for Custom Allocations -->
          <div class="mt-8 flex justify-center hidden">
            <button id="toggleCustomAllocationsBtn" class="px-6 py-3 rounded-lg font-medium !text-white bg-[linear-gradient(to_right,#177F5B,#154D80)] hover:opacity-90 transition shadow-md flex items-center gap-2">
              <span style="color: white; font-weight: 500">Enter Custom Allocations</span>
              <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                <path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd" />
              </svg>
            </button>
          </div>

          <!-- Custom Allocations Section -->
          <div id="customAllocationsSection" class="mt-16">
            <div class="flex gap-8">
              <!-- Left Column: Custom User Inputs -->
              <div class="space-y-6 flex flex-col w-[100%]">
                <!-- <div class="flex items-center gap-2 mb-6">
                  <span>✏️</span>
                  <h3 class="text-xl font-semibold text-white">
                    Your Custom Allocations
                  </h3>
                  <div class="relative group ml-2 inline-block cursor-pointer">
                    <svg class="w-4 h-4 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                    </svg>
                    <div class="absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 w-max max-w-xs p-2 bg-green-100 text-green-900 text-sm font-normal rounded-md opacity-0 group-hover:opacity-100 transition-opacity duration-300 z-50">
                     Adjust these percentages to set your personal savings
                      and investment goals. 
                 
                    </div>
                  </div>
                </div> -->

                <!-- Custom Savings -->
                <div class="space-y-3">
                  <!-- <label class="block text-sm font-medium text-white/80">
                    Your Desired Monthly Savings
                  </label> -->
                  <div class="grid grid-cols-2 gap-3">
                    <div class="input-group">
                      <label class="text-xs text-white/60 mt-1">Monthly Savings percentage(%)</label>
                      <input type="number" id="savingsPercentage" class="input-field w-full pl-4 pr-4 py-3 border border-transparent hover:border-[#57f2a9] bg-[#dfece6] rounded-xl text-white placeholder-gray-400 focus:outline-none focus:border-primary input-glow transition-all duration-200" placeholder="0" min="0" value="" />
                    </div>
                    <div class="input-group">
                      <label class="text-xs text-white/60 mt-1">Monthly Savings amount($)</label>
                      <input type="text" id="customSavingsAmount" class="input-field w-full pl-4 pr-4 py-3 border border-transparent hover:border-[#57f2a9] bg-[#dfece6] rounded-xl text-white placeholder-gray-400 focus:outline-none focus:border-primary input-glow transition-all duration-200" placeholder="$0.00" value="" />
                    </div>
                  </div>
                  <p id="savingsPercentageError" class="error-message text-sm text-red-400"></p>
                </div>

                <!-- Allocation Error Message -->
                <div id="allocationError" class="hidden text-red-400 text-sm p-3 bg-red-900/30 rounded-lg border border-red-500/50">
                  <!-- Error message will be inserted here by JavaScript -->
                </div>

                <!-- Custom Investments -->
                <div class="space-y-3">
                  <div class="grid grid-cols-2 gap-3">
                    <div class="input-group">
                      <label class="text-xs text-white/60 mt-1">Monthly investment percentage(%)</label>
                      <input type="number" id="investmentsPercentage" class="input-field w-full pl-4 pr-4 py-3 border border-transparent hover:border-[#57f2a9] bg-[#dfece6] rounded-xl text-white placeholder-gray-400 focus:outline-none focus:border-primary input-glow transition-all duration-200" placeholder="0" min="0" value="" />
                    </div>
                    <div class="input-group">
                      <label class="text-xs text-white/60 mt-1">Monthly investment Amount ($)</label>
                      <input type="text" id="customInvestmentsAmount" class="input-field w-full pl-4 pr-4 py-3 border border-transparent hover:border-[#57f2a9] bg-[#dfece6] rounded-xl text-white placeholder-gray-400 focus:outline-none focus:border-primary input-glow transition-all duration-200" placeholder="$0.00" value="" />
                    </div>
                  </div>
                  <p id="investmentsPercentageError" class="error-message text-sm text-red-400"></p>
                </div>

                <!-- Custom Cashflow -->
                <div class="space-y-3">
                  <label class="block text-sm font-medium text-white/80">
                    Your calculated Monthly Cashflow
                  </label>
                  <div class="input-field w-full pl-4 pr-4 py-3 border border-transparent hover:border-[#57f2a9] bg-[#dfece6] rounded-xl text-white placeholder-gray-400 focus:outline-none focus:border-primary input-glow transition-all duration-200">
                    <span id="customCashflowAmount" class="text-white">$0.00</span>
                    <span id="customCashflowPercentage" class="text-red">(0.0%)</span>
                  </div>
                </div>
              </div>

              <!-- Right Column: Custom Allocations Projection -->

            </div>
          </div>

          <!-- Centered CTA Section -->
          <div class="mt-8 flex justify-center">
            <div id="recommended-cashflow-cta" class="w-full max-w-md p-4 rounded-xl backdrop-blur-md bg-white/5 border border-white/10 shadow-sm flex flex-col items-center gap-4">
              <p id="cta-message" class="text-center text-white text-base font-medium leading-relaxed">
                <!-- This content will be set by JavaScript -->
              </p>

              <a href="index.html#contact-us" class="px-6 py-2 rounded-lg font-medium !text-white bg-[linear-gradient(to_right,#177F5B,#154D80)] hover:opacity-90 transition shadow-md" id="recommended-nav_cta">
                TALK TO AN EXPERT
              </a>
            </div>
          </div>
        </section>
      </div>
      <!-- right side -->
      <div id="deductions-disposable-section" class="rounded-3xl p-8 w-[40%] self-start  bg-white border border-white/10 hover:border-primary/30 transition-all duration-300 result-box hidden animate-slide-up z-40">
        <div id="deductions-nav" class="flex items-center gap-16 bg-[#eef5f1] p-3 rounded-2xl text-[.8rem]">
          <button type="button" data-tab="taxes" class="deductions-tab px-6 py-3 rounded-xl bg-[#dbece6] text-slate-800 font-semibold">
            Taxes
          </button>
          <button type="button" data-tab="expenses" class="deductions-tab px-6 py-3 rounded-xl text-slate-800 hover:bg-gray-100">
            Expenses
          </button>
          <button type="button" data-tab="save" class="deductions-tab px-6 py-3 rounded-xl text-slate-800 hover:bg-gray-100">
            Save & Invest
          </button>
        </div>

        <div id="taxes-content" class="mt-4">
          <span class="text-[.8rem]">Tax percentages shown are estimates based on current rates from
            the CRA website.</span>
          <div id="taxes-progress" class="mb-4 mt-10">
            <div class="w-full h-3 bg-slate-100 rounded-full overflow-hidden">
              <div id="taxes-bar-segments" class="flex h-full"></div>
            </div>
          </div>
          <div id="deduction-inputs-container" class="flex flex-col gap-x-6 gap-y-4 text-white transition-all duration-500 ease-in-out"></div>
        </div>
        <div id="expenses-content" class="hidden mt-4">
          <span class="text-[1rem]">Progress bar shows how healthy your expense percentage is compared to your monthly take home pay.</span>
          <style>
            .legend {
              list-style: none;
              padding: 0;
              margin: 0;
            }

            .legend-item {
              display: flex;
              align-items: center;
              gap: 8px;
              margin: 6px 0;
            }

            .legend-color {
              width: 10px;
              height: 10px;
              border-radius: 2px;
              display: inline-block;
            }

            .legend-text {
              margin: 0;
              font-size: 14px;
              font-weight: 600;
            }

            .legend-info {
              margin-left: 6px;
              color: #8a8a8a;
            }

            /* Progress bar styles with full-zone gradient */
            .expense-health-progress {
              margin-top: 8px;
            }

            .expense-health-labels {
              display: flex;
              justify-content: space-between;
              align-items: baseline;
              font-size: 14px;
              color: #1f2937;
            }

            .expense-health-bar {
              position: relative;
              width: 100%;
              height: 10px;
              border-radius: 9999px;
              overflow: hidden;
              background: linear-gradient(to right,
                  #21a34f 0%,
                  #21a34f 70%,
                  #f2c94c 70%,
                  #f2c94c 85%,
                  #eb5757 85%,
                  #eb5757 100%);
            }

            /* Overlay for unused area (right side) */
            .expense-health-fill {
              position: absolute;
              right: 0;
              top: 0;
              height: 100%;
              width: 0%;
              background: #e5e7eb;
              border-radius: 9999px;
              transition: width .35s ease;
            }
          </style>

          <div class="flex flex-col py-4 gap-3">
            <div class="flex gap-2 items-center">
              <span class="w-[12px] h-[12px] rounded-sm" style="background:#21a34f;"></span>
              <h2 class="text-[1rem]">Healthy (from 0% to 70%)</h2>
              <span class="text-[.6rem]" aria-hidden="true">&#9432;</span>
            </div>
            <div class="flex gap-2 items-center">
              <span class="w-[12px] h-[12px] rounded-sm" style="background:#f2c94c;"></span>
              <h2 class="text-[1rem]">Caution (from 70% to 85%)</h2>
              <span class="text-[.6rem]" aria-hidden="true">&#9432;</span>
            </div>
            <div class="flex gap-2  items-center">
              <span class="w-[12px] h-[12px] rounded-sm" style="background:#eb5757;"></span>
              <h2 class="text-[1rem]">Critical (from 85% to 100%)</h2>
              <span class="text-[.6rem]" aria-hidden="true">&#9432;</span>
            </div>
          </div>

          <!-- Progress bar with zone gradient; grey overlay covers unused -->
          <div class="expense-health-progress" aria-label="Expense health progress">
            <div class="expense-health-labels">
              <span id="expenseUsedText">0% used</span>
              <span id="expenseLeftText">$0.00 left</span>
            </div>
            <div class="expense-health-bar">
              <div id="expenseHealthBar" class="expense-health-fill"></div>
            </div>
          </div>
          <div class="expense-summary flex flex-col gap-4 mt-5" id="expense-category-summary ">
            <div class="expense-summary-row flex justify-between">
              <div class="">
                <span class="expense-summary-name">Housing and utilities (<span id="summary-housing-pct">0%</span>)</span>
                <span class="expense-summary-line"></span>
              </div>
              <span class="expense-summary-amount" id="summary-housing-amt">$0.00</span>
            </div>
            <div class="expense-summary-row flex justify-between">
              <div>
                <span class="expense-summary-name">Everyday spending (<span id="summary-living-pct">0%</span>)</span>
                <span class="expense-summary-line"></span>
              </div>
              <span class="expense-summary-amount" id="summary-living-amt">$0.00</span>
            </div>
            <div class="expense-summary-row flex justify-between">
              <div>
                <span class="expense-summary-name">Transportation (<span id="summary-transportation-pct">0%</span>)</span>
                <span class="expense-summary-line"></span>
              </div>
              <span class="expense-summary-amount" id="summary-transportation-amt">$0.00</span>
            </div>
            <div class="expense-summary-row flex justify-between">
              <div>
                <span class="expense-summary-name">Loans and insurance (<span id="summary-loans-pct">0%</span>)</span>
                <span class="expense-summary-line"></span>
              </div>
              <span class="expense-summary-amount" id="summary-loans-amt">$0.00</span>
            </div>
            <div class="expense-summary-row flex justify-between">
              <div>
                <span class="expense-summary-name">Children and education (<span id="summary-children-pct">0%</span>)</span>
                <span class="expense-summary-line"></span>
              </div>
              <span class="expense-summary-amount" id="summary-children-amt">$0.00</span>
            </div>
            <div class="expense-summary-row flex justify-between">
              <div>
                <span class="expense-summary-name">Miscellaneous (<span id="summary-miscellaneous-pct">0%</span>)</span>
                <span class="expense-summary-line"></span>
              </div>
              <span class="expense-summary-amount" id="summary-miscellaneous-amt">$0.00</span>
            </div>
            <div class="expense-summary-row flex justify-between">
              <div>
                <span class="expense-summary-name">Total Monthly Expenses</span>
                <span class="expense-summary-line"></span>
              </div>
              <span class="expense-summary-amount" id="summary-total-expenses">$0.00</span>
            </div>
          </div>
        </div>

        <div id="save-invest-content" class="hidden mt-4">
          <div class="space-y-6">
            <!-- Stacked views -->
            <div class="flex flex-col space-y-10">

              <!-- Savings view -->
              <div class="space-y-3">
                <p id="customSavingsTitle" class="text-sm text-gray-700"></p>
                <div class="flex justify-start">
                  <canvas id="customSavingsPieChart" class="!w-[150px] !h-[150px]" width="160" height="160"></canvas>
                </div>
                <div id="customSavingsProjectionSummary" class="p-0"></div>
              </div>

              <!-- Investments view -->
              <div class="space-y-3">
                <p id="customInvestmentsTitle" class="text-sm text-gray-700"></p>
                <div class="flex justify-start">
                  <canvas id="customInvestmentsPieChart" class="!w-[150px] !h-[150px]" width="160" height="160"></canvas>
                </div>
                <div id="customInvestmentsProjectionSummary" class="p-0"></div>
              </div>

              <!-- Both (combined) view -->
              <div class="space-y-3">
                <p id="customBothTitle" class="text-sm text-gray-700"></p>
                <div class="flex justify-start">
                  <canvas id="customBothPieChart" class="!w-[150px] !h-[150px]" width="160" height="160"></canvas>
                </div>
                <div id="customBothProjectionSummary" class="p-0"></div>
              </div>
            </div>

            <button id="AllocationsBtn" class="w-full px-4 py-3 rounded-lg font-medium !text-white transition-all duration-300 shadow-md bg-[linear-gradient(to_right,#177F5B,#154D80)] hover:opacity-90 transition shadow-md">
              Allocations
            </button>

            <div id="infoPopup2" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
              <div class="bg-white rounded-2xl p-8 max-w-md mx-4 shadow-2xl transform transition-all duration-300 scale-95">
                <div class="text-center">
                  <div class="mb-4">
                    <div class="w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4">
                      <svg class="w-8 h-8 text-blue-600" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd" />
                      </svg>
                    </div>
                    <h3 class="text-xl font-bold text-gray-900 mb-2">
                      Custom Allocation
                    </h3>
                    <p class="text-gray-700 leading-relaxed mb-6">
                      Personalise your allocations and adjust the mix to
                      explore different end goals.
                    </p>
                    <p>
                      Monthly Savings
                      <br />
                      Monthly Investment
                      <br />
                      Monthly Cashflow
                    </p>
                    <div class="bg-blue-50 p-4 rounded-lg mb-6">
                      <p class="text-sm text-blue-800">
                        <strong>Custom Projection</strong> - 5-year view
                        on your personalised projection using
                        <strong>3% for Savings</strong>,
                        <strong>10% for Investing </strong> and
                        <strong>6.5% for both</strong>.
                      </p>
                    </div>
                  </div>
                  <button id="closePopup2" class="w-full bg-blue-600 hover:bg-blue-700 !text-white font-medium py-3 px-6 rounded-xl transition-colors duration-200">
                    Got it, thanks!
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
        <!-- Print/Download button -->
        <div class="mt-6">
          <button id="print-download-btn" class="w-full flex items-center justify-center gap-3 px-6 py-3 rounded-2xl bg-[linear-gradient(to_right,#177F5B,#154D80)] hover:opacity-90 transition shadow-md" style="color: #fff">
            <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 8V6a2 2 0 00-2-2H10a2 2 0 00-2 2v2M6 12H5a2 2 0 00-2 2v3a2 2 0 002 2h1m12-7h1a2 2 0 012 2v3a2 2 0 01-2 2h-1M6 19h12v-7H6v7z" />
            </svg>
            <span>Print or download results</span>
          </button>
        </div>
      </div>
    </div>
  </div>

  <script src="data/province.js"></script>
  <script src="./js/budget-calculator-script.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js" type="text/javascript"></script>
  <script src="js/webflow.js" type="text/javascript"></script>
  <script>
    //Stop body from scrolling when menu button is clicked
    $(".nav_button").on("click", function() {
      $("body").toggleClass("no-scroll");
    });
  </script>
  <script>
    // Ensure the navbar closes and icon reverts when a menu link is clicked
    $(".nav_menu_link:not(#calculatorToggle), .nav_cta").on(
      "click",
      function() {
        // Simulate a click on the nav_button to trigger Webflow's built-in close animation
        $(".nav_button").click();
      }
    );
  </script>

  <script>
    document.addEventListener("DOMContentLoaded", function() {
      const calculatorToggle = document.getElementById("calculatorToggle");
      const calculatorDropdown =
        document.getElementById("calculatorDropdown");
      const navMenu = document.querySelector(".nav_menu"); // Assuming this is your main navigation menu

      if (calculatorToggle && calculatorDropdown && navMenu) {
        calculatorToggle.addEventListener("click", function(event) {
          event.preventDefault();
          event.stopPropagation(); // Prevent this click from immediately closing the dropdown via the window listener
          calculatorDropdown.classList.toggle("show");
        });

        // Close the dropdown if the user clicks outside of it, but not if clicking inside the nav menu itself
        window.addEventListener("click", function(event) {
          if (
            !calculatorToggle.contains(event.target) &&
            !calculatorDropdown.contains(event.target) &&
            !navMenu.contains(event.target)
          ) {
            calculatorDropdown.classList.remove("show");
          }
        });

        // Prevent clicks inside the dropdown from closing it
        calculatorDropdown.addEventListener("click", function(event) {
          event.stopPropagation();
        });
      }
    });
  </script>
</body>

</html>